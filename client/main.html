<head>
  <title>Science map - Scilabus</title>

    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.23.0/mapbox-gl.css' rel='stylesheet' />
    <link href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v1.3.1/mapbox-gl-geocoder.css' rel='stylesheet' />

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.23.0/mapbox-gl.js'></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v1.3.1/mapbox-gl-geocoder.js'></script>
</head>

<body>
</body>

<template name="map">

    {{> social }}

    <div id="map"></div>
    <div id="geo-search" class="z-depth-2"></div>

    {{#if mapLoaded}}
        {{#if isEditLocationMode}}
          {{> edit_location}}

        {{else}}
          {{> sidebar }}
          {{> detail_card }}
        {{/if}}

        {{> addnew }}

    {{else}}
        {{> preloader }}
    {{/if}}
</template>

<template name="preloader">
    <div class="preloader-wrapper big active valign-wrapper" id="preloader">
      <div class="spinner-layer spinner-blue-only valign">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div><div class="gap-patch">
          <div class="circle"></div>
        </div><div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>
    </div>
</template>

<template name="social">
    <!-- FB -->
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>

</template>
