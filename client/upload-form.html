<template name="addnew">
    <!-- @todo move to form-modal template -->
    <div id="modal-add-new" class="modal">
        <form action="#">
          <div class="modal-content">
            <h4>Ajouter une photo Ã  la carte collaborative</h4>

            {{> addnewform }}
          </div>

          <div class="modal-footer">
            <button class="modal-action modal-close waves-effect waves-green btn" type="submit">Envoyer</button>
            <button class="modal-action modal-close waves-effect waves-green btn-flat" id="cancel">Annuler</button>
          </div>
      </form>
    </div>

    <a class="btn-floating btn-large waves-effect waves-light red add-button modal-trigger" id="show-add-new"><i class="material-icons">add</i></a>
</template>

<template name="addnewform">

      <div class="file-field input-field">
        <div class="btn">
          <span>Photo</span>
          <input type="file" value="" name="files" id="files" required>
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text">
        </div>
      </div>

      {{#if isImageSent }}
        {{> details}}
      {{/if}}
</template>


<template name="details">
    <div class="row">
       <div class="col s12">
         <div class="row">
           <div class="input-field col s12">
             <input name="title" type="text" class="validate" required>
             <label for="title">Titre</label>
           </div>
         </div>
         <div class="row">
           <div class="input-field col s6">
             <input value="{{getCurrentImgDate}}" name="date" type="text" class="validate">
             <label for="date" class="{{ifThen getCurrentImgDate 'active'}}">Date</label>
           </div>
           <div class="input-field col s5">
             <input disabled value="{{getCurrentImgGPS}}" name="coordinates" type="text">
             <label for="coordinates" class="{{ifThen getCurrentImgGPS 'active'}}">GPS</label>
           </div>
           <div class="input-field col s1">
             <a class="btn-floating red"><i class="material-icons">edit_location</i></a>
           </div>
         </div>
         <div class="row">
           <div class="input-field col s6">
             <input name="tags" type="text" class="validate">
             <label for="tags">Tags</label>
           </div>
           <div class="input-field col s6">
             <input name="wikipedia" type="text" class="validate">
             <label for="wikipedia">Page Wikipedia</label>
           </div>
         </div>
         <div class="row">
           <div class="input-field col s12">
               <textarea name="description" class="materialize-textarea"></textarea>
               <label for="description">Description <small>(HTML)</small></label>
           </div>
         </div>
     </div>
     </div>
</template>
